sudo: false

addons:
  sonarcloud:
    organization: "sonarcloud"
    token:
      secure: nw17fJzu670agSi3LbvavNo5V9L6alUcpvqluTS1ItvBHtsDc0VvNzNQBQBHi9qbZ+pbLtbACxcaFl94T9IMcuYRIF/tSrzVVv+AFnf5TnGWUVdW9vw7jqPGXNBgiKB5ccYExzxlEiFRVai3BDmqN105LZXa4sOcLsYmAi326LhJl1NjmYPIVyRMxmDWzJBruEIPbOiw5SQkuDwjm3YctZOxVhG7TmNwccvmWs6rdhQp+FFJkKRFsvCuV9rKyf+PmysaTjRkjpsE7hCq5t43mOMk7Wm/AEAFk1ur798QPtkkODG3qYH7A7AiI14k0YCupHp3wYoVrmctY4x8K6wAeO36kNBQbiTn8mg97loJ4n/I1N5gagQ7SA33inykQTFX2xdGBLj2aOWtgTO1VbSuo7ZMAjIlCFnoH2JfV0eCh/SjyEiKWJUwVLIMmHZekX/gMG8UHycJZLbUTyK9EuDHWUG9fUOFuzRM/bifrp3UMoj+6U7LidSKbp+EDfKMy1iokBDkPZHpi+ML16lGyBjdU4Z04zJ7HCBRiXYFTbBGBYchH+tmKARwFyQP3xhYwPyOtyVBCSWZBN3I7X+4+rOLpzRzdCWdH8l5XmcZiVbf6WZw7vfegvk01i1AJS9DVnuJPh54ehqTA9hgFSTHqAwqsVjzYgXw1oxcDYPkuCQqxuA=

before_install:
  - sudo apt-get update -qq
install:
  - sudo apt-get install -qq gcc-avr binutils-avr avr-libc
  
script: 
  # Wraps the compilation with the Build Wrapper to generate configuration (used
  # later by the SonarQube Scanner) into the "bw-output" folder
  - build-wrapper-linux-x86-64 --out-dir bw-output avr-g++ -mmcu=atmega88pa cpp/main.cpp -std=c++14 -Wall
  # And finally run the SonarQube analysis - read the "sonar-project.properties"
  # file to see the specific configuration
  - sonar-scanner

cache:
  directories:
    - '$HOME/.sonar/cache'
    
env:
  global:
    secure: nw17fJzu670agSi3LbvavNo5V9L6alUcpvqluTS1ItvBHtsDc0VvNzNQBQBHi9qbZ+pbLtbACxcaFl94T9IMcuYRIF/tSrzVVv+AFnf5TnGWUVdW9vw7jqPGXNBgiKB5ccYExzxlEiFRVai3BDmqN105LZXa4sOcLsYmAi326LhJl1NjmYPIVyRMxmDWzJBruEIPbOiw5SQkuDwjm3YctZOxVhG7TmNwccvmWs6rdhQp+FFJkKRFsvCuV9rKyf+PmysaTjRkjpsE7hCq5t43mOMk7Wm/AEAFk1ur798QPtkkODG3qYH7A7AiI14k0YCupHp3wYoVrmctY4x8K6wAeO36kNBQbiTn8mg97loJ4n/I1N5gagQ7SA33inykQTFX2xdGBLj2aOWtgTO1VbSuo7ZMAjIlCFnoH2JfV0eCh/SjyEiKWJUwVLIMmHZekX/gMG8UHycJZLbUTyK9EuDHWUG9fUOFuzRM/bifrp3UMoj+6U7LidSKbp+EDfKMy1iokBDkPZHpi+ML16lGyBjdU4Z04zJ7HCBRiXYFTbBGBYchH+tmKARwFyQP3xhYwPyOtyVBCSWZBN3I7X+4+rOLpzRzdCWdH8l5XmcZiVbf6WZw7vfegvk01i1AJS9DVnuJPh54ehqTA9hgFSTHqAwqsVjzYgXw1oxcDYPkuCQqxuA=
